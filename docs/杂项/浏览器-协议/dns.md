# DNS

## 使用 TCP 协议

在区域传输的时候使用 TCP 协议

- 辅域名服务器会定时（一般 3 小时）向主域名服务器进行查询以便了解数据是否有变动。如有变动，会执行一次区域传送，进行数据同步。区域传送使用 TCP 而不是 UDP，因为数据同步传送的数据量比一个请求应答的数据量要多得多。

- TCP 是一种可靠连接，保证了数据的准确性。

## 使用 UDP 协议

- 客户端向 DNS 服务器查询域名，一般返回的内容都不超过 512 字节，用 UDP 传输即可。

- 不用经过三次握手，这样 DNS 服务器负载更低，响应更快。理论上说，客户端也可以指定向 DNS 服务器查询时用 TCP，但事实上，很多 DNS 服务器进行配置的时候，仅支持 UDP 查询包

## 参考

[https://juejin.cn/post/7142375101399302151](https://juejin.cn/post/7142375101399302151)
