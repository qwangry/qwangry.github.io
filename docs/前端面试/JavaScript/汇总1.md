# æ±‡æ€» 1

## å•çº¿ç¨‹çš„ JavaScript

ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScript çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ç”¨æˆ·äº¤äº’å’Œæ“ä½œ DOMã€‚

å¦‚æœ JavaScript æ˜¯å¤šçº¿ç¨‹ï¼Œå½“é¡µé¢æ›´æ–°å†…å®¹çš„æ—¶å€™ï¼Œç”¨æˆ·åˆè§¦å‘äº†äº¤äº’ï¼Œè¿™æ—¶å€™çº¿ç¨‹é—´çš„åŒæ­¥é—®é¢˜ä¼šå¾ˆå¤æ‚ï¼Œä¸ºäº†é¿å…å¤æ‚æ€§ï¼ŒJavaScript è¢«è®¾è®¡ä¸ºå•çº¿ç¨‹ã€‚

### JavaScript è¿è¡Œ

JavaScript è¿è¡Œæ—¶ï¼Œä¸»çº¿ç¨‹ä¼šå½¢æˆä¸€ä¸ªæ ˆï¼Œè¿™ä¸ªæ ˆä¸»è¦æ˜¯è§£é‡Šå™¨ç”¨æ¥æœ€ç»ˆå‡½æ•°æ‰§è¡Œæµçš„ä¸€ç§æœºåˆ¶ã€‚é€šå¸¸è¿™ä¸ªæ ˆè¢«ç§°ä¸ºè°ƒç”¨æ ˆ Call Stackï¼Œæˆ–æ‰§è¡Œæ ˆ Execution Context Stack

è°ƒç”¨æ ˆï¼Œå…·æœ‰åè¿›å…ˆå‡ºçš„ç»“æ„ã€‚

è°ƒç”¨æ ˆå†…å­˜æ”¾çš„æ˜¯ä»£ç æ‰§è¡ŒæœŸé—´çš„æ‰€æœ‰æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

- æ¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œè§£é‡Šå™¨å°±ä¼šæŠŠè¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡æ·»åŠ åˆ°è°ƒç”¨æ ˆå¹¶å¼€å§‹æ‰§è¡Œï¼›

- æ­£åœ¨è°ƒç”¨æ ˆä¸­æ‰§è¡Œçš„å‡½æ•°ï¼Œå¦‚æœè¿˜è°ƒç”¨äº†å…¶ä»–å‡½æ•°ï¼Œé‚£ä¹ˆæ–°å‡½æ•°ä¹Ÿä¼šè¢«æ·»åŠ åˆ°è°ƒç”¨æ ˆï¼Œå¹¶ç«‹å³æ‰§è¡Œï¼›

- å½“å‰å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œè§£é‡Šå™¨ä¼šå°†å…¶æ‰§è¡Œä¸Šä¸‹æ–‡æ¸…é™¤è°ƒç”¨æ ˆï¼Œç»§ç»­æ‰§è¡Œå‰©ä½™æ‰§è¡Œä¸Šä¸‹æ–‡çš„å‰©ä½™ä»£ç 

- åˆ†é…çš„è°ƒç”¨æ ˆç©ºé—´è¢«å æ»¡ï¼Œä¼šå¼•å‘â€œå †æ ˆæº¢å‡ºâ€é”™è¯¯ã€‚

### äº‹ä»¶å¾ªç¯

å•çº¿ç¨‹æ„å‘³ç€ä»»åŠ¡éœ€è¦ä¸€ä¸ªä¸€ä¸ªè¿›è¡Œï¼Œå¦‚æœæœ‰ä»»åŠ¡æ˜¯ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼Œé‚£ä¹ˆåœ¨ç”¨æˆ·æ“ä½œä¹‹å‰ï¼Œå…¶ä»–ä»»åŠ¡éƒ½ä¼šç­‰å¾…ï¼Œé¡µé¢å¤„äºå‡æ­»çŠ¶æ€ï¼Œä½“éªŒå¾ˆç³Ÿï¼Œæ‰€ä»¥å‡ºç°äº†å¼‚æ­¥ä»»åŠ¡ã€‚

JavaScript ä¸­ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½å¯ä»¥åˆ†ä¸ºï¼š

- åŒæ­¥ä»»åŠ¡ï¼šç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ä¸€èˆ¬ä¼šç›´æ¥è¿›å…¥åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ

- å¼‚æ­¥ä»»åŠ¡ï¼šå¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚ ajax ç½‘ç»œè¯·æ±‚ï¼ŒsetTimeout å®šæ—¶å‡½æ•°ç­‰

![alt text](image.png)

å¼‚æ­¥ä»»åŠ¡åˆå¯ä»¥åˆ†ä¸ºå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ã€‚

å¸¸è§çš„å®ä»»åŠ¡ï¼š

- script(å¤–å±‚åŒæ­¥ä»£ç )

- setTimeout/setInterval

- UI rendering/UI äº‹ä»¶

- postMessageã€MessageChannel

- setImmediateã€I/O(Node.js)

å¸¸è§çš„å¾®ä»»åŠ¡ï¼š

- Promise.then

- MutationObserver

- Object.observer(å·²åºŸå¼ƒï¼ŒProxy å¯¹è±¡æ›¿ä»£)

- process.nextTickï¼ˆNode.jsï¼‰

`new Promiseæ˜¯åŒæ­¥ä»»åŠ¡ï¼Œç›´æ¥æ‰§è¡Œ`

![alt text](image-1.png)

#### async å’Œ await

async ç”¨æ¥å£°æ˜ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œè€Œ await æ˜¯ç”¨æ¥ç­‰å¾…å¼‚æ­¥æ–¹æ³•æ‰§è¡Œ

async å‡½æ•°è¿”å›ä¸€ä¸ª promise å¯¹è±¡

```js
function f() {
  return Promise.resolve("TEST");
}

async function asyncF() {
  return "TEST";
}
```

æ­£å¸¸æƒ…å†µä¸‹ï¼Œawait å‘½ä»¤åé¢æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœ

å¦‚æœä¸æ˜¯ Promise å¯¹è±¡ï¼Œå°±ç›´æ¥è¿”å›å¯¹åº”çš„å€¼

```js
async function f() {
  return await 123;
  // ç­‰åŒäºreturn 123;
}

f().then((v) => console.log(v));
// 123
```

ä½†ä¸ç®¡ await åé¢è·Ÿç€çš„æ˜¯ä»€ä¹ˆï¼Œawait éƒ½ä¼šé˜»å¡åé¢çš„ä»£ç 

```js
async function fn1() {
  console.log(1);

  await fn2();

  console.log(2); //è¢«é˜»å¡
}

async function fn2() {
  console.log("fn2");
}

fn1();

console.log(3);

// awaitä¼šé˜»å¡ä¸‹é¢çš„ä»£ç ï¼Œå³åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå…ˆæ‰§è¡Œasyncå¤–é¢çš„åŒæ­¥ä»£ç ï¼ŒåŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œå†å›åˆ°asyncå‡½æ•°ä¸­ï¼Œå†æ‰§è¡Œä¹‹å‰é˜»å¡çš„ä»£ç 
// 1,fn2,3,2
```

ç¤ºä¾‹ï¼š

```js
async function async1() {
  console.log("async1 start");
  await async2();
  console.log("async1 end");
}
async function async2() {
  console.log("async2");
}
console.log("script start");
setTimeout(function () {
  console.log("settimeout");
});
async1();
new Promise(function (resolve) {
  console.log("promise1");
  resolve();
}).then(function () {
  console.log("promise2");
});
console.log("script end");
// script startã€async1 startã€async2ã€promise1ã€script endã€async1 endã€promise2ã€settimeout
```

#### async/await å…¶ä»–ç»†èŠ‚

```js
async function async1 () {
 Â  Â await new Promise((resolve, reject) => {
 Â  Â  Â  Â resolve()
 Â   })
 Â  Â console.log('A')
}
â€‹
async1()
â€‹
new Promise((resolve) => {
 Â  Â console.log('B')
 Â  Â resolve()
}).then(() => {
 Â  Â console.log('C')
}).then(() => {
 Â  Â console.log('D')
})
â€‹
// æœ€ç»ˆç»“æœğŸ‘‰: B A C D


async function async1 () {
 Â  Â await async2()
 Â  Â console.log('A')
}
â€‹
async function async2 () {
 Â  Â return new Promise((resolve, reject) => {
 Â  Â  Â  Â resolve()
 Â   })
}
â€‹
async1()
â€‹
new Promise((resolve) => {
 Â  Â console.log('B')
 Â  Â resolve()
}).then(() => {
 Â  Â console.log('C')
}).then(() => {
 Â  Â console.log('D')
})
â€‹
// æœ€ç»ˆç»“æœğŸ‘‰: B C D A
```

async å‡½æ•°å¤„ç†è¿”å›å€¼ï¼Œä¼šåƒ Promise.prototype.then ä¸€æ ·ï¼Œä¼šå¯¹è¿”å›å€¼çš„ç±»å‹è¿›è¡Œè¾¨è¯†

ğŸ‘‰ æ ¹æ®è¿”å›å€¼çš„ç±»å‹ï¼Œå¼•èµ· js å¼•æ“ å¯¹è¿”å›å€¼å¤„ç†æ–¹å¼çš„ä¸åŒ

> ğŸ“‘ ç»“è®ºï¼šasync å‡½æ•°åœ¨æŠ›å‡ºè¿”å›å€¼æ—¶ï¼Œä¼šæ ¹æ®è¿”å›å€¼ç±»å‹å¼€å¯ä¸åŒæ•°ç›®çš„å¾®ä»»åŠ¡
>
> - return ç»“æœå€¼ï¼šé thenableã€é promiseï¼ˆä¸ç­‰å¾…ï¼‰
>
> - return ç»“æœå€¼ï¼šthenableï¼ˆç­‰å¾… 1 ä¸ª then çš„æ—¶é—´ï¼‰
>
> - return ç»“æœå€¼ï¼špromiseï¼ˆç­‰å¾… 2 ä¸ª then çš„æ—¶é—´ï¼‰

```js
async function testA () {
 Â  Â return 1;
}
â€‹
testA().then(() => console.log(1));
Promise.resolve()
 Â   .then(() => console.log(2))
 Â   .then(() => console.log(3));
â€‹
// (ä¸ç­‰å¾…)æœ€ç»ˆç»“æœğŸ‘‰: 1 2 3


async function testB () {
 Â  Â return {
 Â  Â  Â  Â then (cb) {
 Â  Â  Â  Â  Â  Â cb();
 Â  Â  Â   }
 Â   };
}
â€‹
testB().then(() => console.log(1));
Promise.resolve()
 Â   .then(() => console.log(2))
 Â   .then(() => console.log(3));
â€‹
// (ç­‰å¾…ä¸€ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 1 3

async function testC () {
Â  Â  return new Promise((resolve, reject) => {
Â  Â  Â  Â  resolve()
Â  Â  })
}

testC().then(() => console.log(1));
Promise.resolve()
Â  Â  .then(() => console.log(2))
Â  Â  .then(() => console.log(3));

// (ç­‰å¾…ä¸¤ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 3 1




async function testC () {
Â  Â  return new Promise((resolve, reject) => {
Â  Â  Â  Â  resolve()
Â  Â  })
}

testC().then(() => console.log(1));
Promise.resolve()
Â  Â  .then(() => console.log(2))
Â  Â  .then(() => console.log(3))
Â  Â  .then(() => console.log(4))

// (ç­‰å¾…ä¸¤ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 3 1 4

```

```js
async function async1 () {
 Â  Â console.log('1')
 Â  Â await async2()
 Â  Â console.log('AAA')
}
â€‹
async function async2 () {
 Â  Â console.log('3')
 Â  Â return new Promise((resolve, reject) => {
 Â  Â  Â  Â resolve()
 Â  Â  Â  Â console.log('4')
 Â   })
}
â€‹
console.log('5')
â€‹
setTimeout(() => {
 Â  Â console.log('6')
}, 0);
â€‹
async1()
â€‹
new Promise((resolve) => {
 Â  Â console.log('7')
 Â  Â resolve()
}).then(() => {
 Â  Â console.log('8')
}).then(() => {
 Â  Â console.log('9')
}).then(() => {
 Â  Â console.log('10')
})
console.log('11')
â€‹
// æœ€ç»ˆç»“æœğŸ‘‰: 5 1 3 4 7 11 8 9 AAA 10 6

```

è·Ÿ Promise çš„æƒ…å†µ

```js
async function test () {
 Â  Â console.log(1);
 Â  Â await new Promise((resolve, reject) => {
 Â  Â  Â  Â resolve()
 Â   })
 Â  Â console.log(2);
}
â€‹
test();
console.log(3);
â€‹
Promise.resolve()
 Â   .then(() => console.log(4))
 Â   .then(() => console.log(5))
 Â   .then(() => console.log(6))
 Â   .then(() => console.log(7));
â€‹
// æœ€ç»ˆç»“æœğŸ‘‰: 1 3 2 4 5 6 7

// ä¸ºä»€ä¹ˆä¸ç­‰å¾…ä¸¤ä¸ª then çš„æ—¶é—´å‘¢ï¼Ÿ
// TC 39(ECMAScriptæ ‡å‡†åˆ¶å®šè€…) å¯¹await åé¢æ˜¯ promise çš„æƒ…å†µå¦‚ä½•å¤„ç†è¿›è¡Œäº†ä¸€æ¬¡ä¿®æ”¹ï¼Œç§»é™¤äº†é¢å¤–çš„ä¸¤ä¸ªå¾®ä»»åŠ¡ï¼Œåœ¨æ—©æœŸç‰ˆæœ¬ï¼Œä¾ç„¶ä¼šç­‰å¾…ä¸¤ä¸ª then çš„æ—¶é—´
// ä½†åœ¨è¿™æ¬¡æ›´æ–°ä¸­å¹¶æ²¡æœ‰ä¿®æ”¹ thenable çš„æƒ…å†µ
// è¿™æ ·åšå¯ä»¥æå¤§çš„ä¼˜åŒ– await ç­‰å¾…çš„é€Ÿåº¦
```

## äº‹ä»¶å¾ªç¯

JavaScript ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé™¤äº†ä¾é å‡½æ•°`è°ƒç”¨æ ˆ`æ¥æå®šå‡½æ•°çš„æ‰§è¡Œé¡ºåºå¤–ï¼Œè¿˜ä¾é `ä»»åŠ¡é˜Ÿåˆ—(task queue)`æ¥æå®šå¦å¤–ä¸€äº›ä»£ç çš„æ‰§è¡Œã€‚æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¸ºäº‹ä»¶å¾ªç¯è¿‡ç¨‹ã€‚ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œäº‹ä»¶å¾ªç¯æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯ä»»åŠ¡é˜Ÿåˆ—å¯ä»¥æ‹¥æœ‰å¤šä¸ªã€‚ä»»åŠ¡é˜Ÿåˆ—åˆåˆ†ä¸º macro-taskï¼ˆå®ä»»åŠ¡ï¼‰ä¸ micro-taskï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼Œåœ¨æœ€æ–°æ ‡å‡†ä¸­ï¼Œå®ƒä»¬è¢«åˆ†åˆ«ç§°ä¸º task ä¸ jobsã€‚

æ‰§è¡Œé¡ºåºï¼š

```js
æ‰§è¡ŒåŒæ­¥ä»£ç 

æ‰§è¡Œå®Œæ‰€æœ‰åŒæ­¥ä»£ç åä¸”æ‰§è¡Œæ ˆä¸ºç©ºï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œ

æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡ä¸”å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º

æ˜¯å¦æœ‰å¿…è¦æ¸²æŸ“é¡µé¢

æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡
```

macro-task å¤§æ¦‚åŒ…æ‹¬ï¼š

- script(æ•´ä½“ä»£ç ï¼Œå¯ä»¥ç†è§£ä¸ºå¤–å±‚åŒæ­¥ä»£ç )

- setTimeout

- setInterval

- setImmediate

- I/O

- UI render

micro-task å¤§æ¦‚åŒ…æ‹¬:

- process.nextTick

- Promise

- Async/Await(å®é™…å°±æ˜¯ promise)

- MutationObserver(html5 æ–°ç‰¹æ€§)

![alt text](image-2.png)

## æŸ¯é‡ŒåŒ–

æŸ¯é‡ŒåŒ–æ˜¯æŠŠä¸€ä¸ªå¤šå‚å‡½æ•°è½¬åŒ–ä¸ºä¸€ä¸ªåµŒå¥—çš„ä¸€å…ƒå‡½æ•°çš„è¿‡ç¨‹

æŸ¯é‡ŒåŒ–çš„æ„ä¹‰ï¼š

1ã€è®©çº¯å‡½æ•°æ›´çº¯ï¼Œæ¯æ¬¡æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ¾æ•£è§£è€¦

2ã€æƒ°æ€§æ‰§è¡Œ

```js
let fn = (x, y) => x + y;

// è½¬åŒ–

const curry = function (fn) {
  return function (x) {
    return function (y) {
      return fn(x, y);
    };
  };
};

let myfn = curry(fn);
console.log(myfn(1)(2));

// å¤šå‚æ•°
const curry = function (fn) {
  return function curriedFn(...args) {
    if (args.length < fn.length) {
      return function () {
        return curriedFn(...args.concat([...arguments]));
      };
    }
    return fn(...args);
  };
};
const fn = (x, y, z, a) => x + y + z + a;
const myfn = curry(fn);
console.log(myfn(1)(2)(3)(1));
```

## ç²¾åº¦é—®é¢˜

JavaScript ä¸­ Number é‡‡ç”¨çš„æ˜¯ IEEE754 è§„èŒƒä¸­ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°ç¼–ç 

è¿™æ ·çš„å‚¨å­˜ç»“æ„ä¼˜ç‚¹æ˜¯å¯ä»¥å½’ä¸€åŒ–å¤„ç†æ•´æ•°å’Œå°æ•°ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´

å¯¹äºæ•´æ•°ï¼Œå¯ä»¥è½»æ˜“è½¬åŒ–æˆåè¿›åˆ¶æˆ–è€…äºŒè¿›åˆ¶ï¼Œä½†å¯¹äºæµ®ç‚¹æ•°ï¼Œå› ä¸ºå°æ•°ç‚¹çš„å­˜åœ¨ï¼Œå°æ•°ç‚¹çš„ä½ç½®ä¸æ˜¯å›ºå®šçš„ï¼Œè§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•

ä½†è®¡ç®—æœºåªèƒ½ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒäºŒè¿›åˆ¶è½¬æ¢ä¸ºç§‘å­¦è®¡æ•°æ³•çš„å…¬å¼ä¸ºï¼š`x=a*2^e`

å­˜å‚¨äºŒè¿›åˆ¶æ—¶å°æ•°ç‚¹çš„åç§»é‡æœ€å¤§ä¸º 52 ä½ï¼Œæœ€å¤šå¯ä»¥è¡¨è¾¾çš„ä½æ•°æ˜¯`2^53`ï¼Œå¯¹åº”ç§‘å­¦è®¡æ•°çš„å°¾æ•°æ˜¯`9.007199254740992`ï¼Œè¿™æ˜¯ JS æœ€å¤šèƒ½è¡¨ç¤ºçš„ç²¾åº¦

é•¿åº¦æ˜¯ 16ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ toPrecision(16)æ¥åšç²¾åº¦è¿ç®—ï¼Œè¶…è¿‡çš„ç²¾åº¦ä¼šè‡ªåŠ¨åšå‡‘æ•´å¤„ç†

## ç±»å‹è½¬æ¢

[https://tsejx.github.io/javascript-guidebook/basic-concept/data-types/type-conversion#%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2](https://tsejx.github.io/javascript-guidebook/basic-concept/data-types/type-conversion#%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2)

ä¸»è¦æ‘˜æŠ„éšå¼ç±»å‹è½¬æ¢ï¼Œæ¶‰åŠåˆ°è½¬æ¢ä¸º Booleanã€Numberã€String ç±»å‹

JavaScript ä¸­ï¼Œå½“è¿ç®—ç¬¦åœ¨è¿ç®—æ—¶ï¼Œå¦‚æœä¸¤è¾¹æ•°æ®ä¸ç»Ÿä¸€ï¼ŒCPU å°±æ— æ³•è¿ç®—ï¼Œè¿™æ—¶ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†è¿ç®—ç¬¦ä¸¤è¾¹çš„æ•°æ®åšä¸€ä¸ªæ•°æ®ç±»å‹è½¬æ¢ï¼Œè½¬æˆç›¸åŒçš„æ•°æ®ç±»å‹å†è®¡ç®—

### éšå¼ç±»å‹è½¬æ¢â€”â€”Boolean

å€¼åœ¨é€»è¾‘åˆ¤æ–­å’Œé€»è¾‘è¿ç®—æ—¶ä¼šéšå¼è½¬æ¢ä¸º Boolean

![alt text](image-3.png)

:::tip
ä½¿ç”¨ new è¿ç®—ç¬¦åˆ›å»ºçš„å¯¹è±¡éšå¼è½¬æ¢ä¸º Boolean ç±»å‹çš„å€¼éƒ½æ˜¯ trueã€‚
:::

ä¸¤ä¸ªè¿ç»­éæ“ä½œå¯ä»¥å°†ä¸€ä¸ªæ•°æ®å¼ºåˆ¶è½¬æ¢ä¸º Boolean ç±»å‹

```js
!!undefined;
// false

!!null;
// false

!!1;
// true

!!"";
// false

!!"Hello";
// true

!!{};
// true

!![];
// true

!!function () {};
// true
```

### éšå¼ç±»å‹è½¬æ¢â€”â€”è¿è¡Œç¯å¢ƒ

å¾ˆå¤šå†…ç½®å‡½æ•°æœŸæœ›ä¼ å…¥çš„å‚æ•°çš„æ•°æ®ç±»å‹æ˜¯å›ºå®šçš„ï¼Œå¦‚ alert(value)ï¼Œå®ƒæœŸæœ›ä¼ å…¥çš„ value ä¸º String ç±»å‹ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¼ å…¥çš„æ˜¯ Number ç±»å‹æˆ–è€… Object ç±»å‹ç­‰é String ç±»å‹çš„æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿæ•°æ®ç±»å‹çš„éšå¼è½¬æ¢ã€‚è¿™å°±æ˜¯ç¯å¢ƒè¿è¡Œç¯å¢ƒå¯¹æ•°æ®ç±»å‹è½¬æ¢çš„å½±å“ã€‚

ç±»ä¼¼çš„æ–¹æ³•è¿˜æœ‰ï¼š

- alert()

- parseInt()

### éšå¼ç±»å‹è½¬æ¢â€”â€”è¿ç®—ç¬¦

#### åŠ å·è¿ç®—ç¬¦

å½“åŠ å·è¿ç®—ç¬¦ä½œä¸ºä¸€å…ƒè¿ç®—ç¬¦è¿ç®—å€¼æ—¶ï¼Œå®ƒä¼šå°†è¯¥å€¼è½¬æ¢ä¸º Number ç±»å‹

```js
' ' +
// 0

'0' +
// 0

'10' +
// 10

'String' +
// NaN

true +
// 1

false +
// 0

undefined +
// 0

null +
// 0

[] +
// 0

![] +
// 0

[1] +
// 1

[1, 2] +
// NaN

[[1]] +
// 1

[[1, 2]] +
// NaN

{} +
// NaN

function () {};
// NaN

+'' +
// 0
```

å½“åŠ å·è¿ç®—ç¬¦ä½œä¸º`äºŒå…ƒè¿ç®—ç¬¦`æ“ä½œå€¼æ—¶ï¼Œå®ƒä¼šæ ¹æ®ä¸¤è¾¹å€¼ç±»å‹è¿›è¡Œæ•°æ®ç±»å‹éšå¼è½¬æ¢

é¦–å…ˆï¼Œå½“å¼•ç”¨å¯¹è±¡ç±»å‹çš„å€¼è¿›è¡ŒäºŒå…ƒåŠ å·è¿ç®—ç¬¦è¿ç®—æ—¶ï¼Œä¼šæ¶‰åŠåˆ°è½¬æ¢ä¸ºåŸå§‹æ•°æ®ç±»å‹çš„é—®é¢˜ã€‚äº‹å®ä¸Šï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ‰§è¡Œä¾‹å¦‚åŠ æ³•æ“ä½œçš„æ—¶å€™ï¼Œå¦‚æœå®ƒæ˜¯åŸå§‹ç±»å‹ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦è½¬æ¢ã€‚å¦åˆ™ï¼Œå°†éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š

- è°ƒç”¨å®ä¾‹çš„ valueOf() æ–¹æ³•ï¼Œå¦‚æœæœ‰è¿”å›çš„æ˜¯åŸºç¡€ç±»å‹ï¼Œåœæ­¢ä¸‹é¢çš„è¿‡ç¨‹ï¼›å¦åˆ™ç»§ç»­

- è°ƒç”¨å®ä¾‹çš„ toString() æ–¹æ³•ï¼Œå¦‚æœæœ‰è¿”å›çš„æ˜¯åŸºç¡€ç±»å‹ï¼Œåœæ­¢ä¸‹é¢çš„è¿‡ç¨‹ï¼›å¦åˆ™ç»§ç»­

- éƒ½æ²¡è¿”å›åŸå§‹ç±»å‹ï¼Œå°±ä¼šæŠ¥é”™

å¦‚æœè¿ç®—ç¬¦ä¸¤è¾¹å‡ä¸ºåŸå§‹æ•°æ®ç±»å‹æ—¶ï¼Œåˆ™æŒ‰ç…§ä»¥ä¸‹è§„åˆ™è§£é‡Šï¼š

- å­—ç¬¦ä¸²è¿æ¥ç¬¦ï¼šå¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸­`åªè¦å­˜åœ¨ä¸€ä¸ªæ“ä½œæ•°ä¸º String ç±»å‹`ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªæ“ä½œæ•°ä¼šè°ƒç”¨ String() æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²ç„¶åæ‹¼æ¥

- ç®—æœ¯è¿ç®—ç¬¦ï¼šå¦‚æœä¸¤ä¸ªæ“ä½œæ•°`éƒ½ä¸æ˜¯ String ç±»å‹`ï¼Œä¸¤ä¸ªæ“ä½œæ•°ä¼šè°ƒç”¨ Number() æ–¹æ³•éšå¼è½¬æ¢ä¸º Number ç±»å‹ï¼ˆå¦‚æœæ— æ³•æˆåŠŸè½¬æ¢æˆæ•°å­—ï¼Œ`åˆ™å˜ä¸º NaN`ï¼Œå†å¾€ä¸‹æ“ä½œï¼‰ï¼Œç„¶åè¿›è¡ŒåŠ æ³•ç®—æœ¯è¿ç®—

å€¼è½¬æ¢ä¸º Number ç±»å‹å’Œ String ç±»å‹éƒ½ä¼šéµå¾ªä¸€ä¸ªåŸåˆ™ï¼šå¦‚æœè¯¥å€¼ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼Œåˆ™ç›´æ¥è½¬æ¢ä¸º String ç±»å‹æˆ– Number ç±»å‹ã€‚å¦‚æœè¯¥å€¼ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆå…ˆé€šè¿‡å›ºå®šçš„æ–¹æ³•å°†å¤æ‚å€¼è½¬æ¢ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼Œå†è½¬ä¸º String ç±»å‹æˆ– Number ç±»å‹

:::tip
å½“ {} + ä»»ä½•å€¼ æ—¶ï¼Œ å‰ä¸€ä¸ª {} éƒ½ä¼šè¢« JavaScript è§£é‡Šæˆç©ºå—å¹¶å¿½ç•¥ä»–
:::

```js
"1" + 1             // "11"
"1" + "1"           // "11"
"1" + true          // "1true"
"1" + NaN           // "NaN"
"1" + []            // "1"
"1" + {}            // "1[object Object]"
"1" + function(){}  // "1function(){}"
"1" + new Boolean() // "1false"

1 + NaN             // NaN
1 + "true"          // "1true"
1 + true            // 2
1 + undefined       // NaN
1 + null            // 1

1 + []              // "1"
1 + [1, 2]          // "11,2"
1 + {}              // "1[object Object]"
1 + function(){}    // "1function(){}"
1 + Number()        // 1
1 + String()        // "1"

[] + []             // ""
{} + {}             // "[object Object][object Object]"
{} + []             // 0
{a: 0} + 1          // 1
[] + {}             // "[object Object]"
[] + !{}            // "false"
![] + []            // "false"
'' + {}             // "[object Object]"
{} + ''             // 0
[]["map"] + []      // "function map(){ [native code] }"
[]["a"] + []        // "undefined"
[][[]] + []         // "undefined"
+!![] + []          // 1
+!![]               // 1
1-{}                // NaN
1-[]                // 1
true - 1            // 0
{} - 1              // -1
[] !== []           // true
[]['push'](1)       // 1

(![]+[])[+[]]       // "f"
(![]+[])[+!![]]     // "a"
```

#### ç›¸ç­‰è¿ç®—ç¬¦

- å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œå€¼ä¸º`å¸ƒå°”å€¼`ï¼Œåˆ™åœ¨æ¯”è¾ƒä¹‹å‰`å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼`

- å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œå€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ“ä½œå€¼ä¸ºæ•°å€¼ï¼Œåˆ™é€šè¿‡ Number() å‡½æ•°å°†å­—ç¬¦ä¸²`è½¬æ¢ä¸ºæ•°å€¼`

- å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œå€¼æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ `valueOf() æ–¹æ³•`ï¼Œå¾—åˆ°çš„ç»“æœæŒ‰ç…§å‰é¢çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒ

- `null ä¸ undefined æ˜¯ç›¸ç­‰çš„`

- å¦‚æœä¸€ä¸ªæ“ä½œå€¼ä¸º `NaN`ï¼Œåˆ™è¿”å› false

- å¦‚æœä¸¤ä¸ªæ“ä½œå€¼éƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬`æ˜¯ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡`

```js
"1" == true; // true
"1" == 1; // true
"1" == {}; // false
"1" == []; // false

undefined == undefined; // true
undefined == null; // true
nul == null; // true
```

#### å…³ç³»è¿ç®—ç¬¦

ä¼šæŠŠå…¶ä»–æ•°æ®ç±»å‹è½¬æ¢æˆ Number ä¹‹åå†æ¯”è¾ƒå…³ç³»ï¼ˆé™¤äº† Date ç±»å‹å¯¹è±¡ï¼‰

- å¦‚æœä¸¤ä¸ªæ“ä½œå€¼éƒ½æ˜¯æ•°å€¼ï¼Œåˆ™è¿›è¡Œ æ•°å€¼ æ¯”è¾ƒ

- å¦‚æœä¸¤ä¸ªæ“ä½œå€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ¯”è¾ƒå­—ç¬¦ä¸²å¯¹åº”çš„ ASCII å­—ç¬¦ç¼–ç å€¼

- å¤šä¸ªå­—ç¬¦åˆ™ä»å·¦å¾€å³ä¾æ¬¡æ¯”è¾ƒ

- å¦‚æœ`åªæœ‰ä¸€ä¸ªæ“ä½œå€¼æ˜¯æ•°å€¼`ï¼Œåˆ™å°†å¦ä¸€ä¸ªæ“ä½œå€¼è½¬æ¢ä¸ºæ•°å€¼ï¼Œè¿›è¡Œ `æ•°å€¼ æ¯”è¾ƒ`

- å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨ valueOf() æ–¹æ³•ï¼ˆå¦‚æœå¯¹è±¡æ²¡æœ‰ valueOf() æ–¹æ³•åˆ™è°ƒç”¨ toString() æ–¹æ³•ï¼‰ï¼Œå¾—åˆ°çš„ç»“æœæŒ‰ç…§å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒ

- å¦‚æœä¸€ä¸ªæ“ä½œå€¼æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º æ•°å€¼ï¼Œå†è¿›è¡Œæ¯”è¾ƒ

:::tip
NaN æ˜¯éå¸¸ç‰¹æ®Šçš„å€¼ï¼Œå®ƒä¸å’Œä»»ä½•ç±»å‹çš„å€¼ç›¸ç­‰ï¼ŒåŒ…æ‹¬å®ƒè‡ªå·±ï¼ŒåŒæ—¶å®ƒä¸ä»»ä½•ç±»å‹çš„å€¼æ¯”è¾ƒå¤§å°æ—¶éƒ½è¿”å› false
:::

```js
5 > 10;
// false

"2" > 10;
// false

"2" > "10";
// true

"abc" > "b";
// false

"abc" > "aad";
// true
```

### JavaScript åŸå§‹ç±»å‹è½¬æ¢è¡¨

![alt text](image-4.png)

## this å…³é”®å­—

this çš„å€¼å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚

this çš„ä½œç”¨æ˜¯æŒ‡å‘å½“å‰æ‰§è¡Œä»£ç çš„å¯¹è±¡ï¼Œåœ¨ä¸åŒçš„æƒ…å¢ƒä¸‹ä¼šæœ‰ä¸åŒçš„å€¼ã€‚

### é»˜è®¤ç»‘å®šè§„åˆ™

å‡½æ•°åœ¨å“ªä¸ªè¯æ³•ä½œç”¨åŸŸä¸­ç”Ÿæ•ˆï¼Œthis å°±æŒ‡å‘å“ªé‡Œï¼ˆç‹¬ç«‹è°ƒç”¨çš„å‡½æ•°å°±æŒ‡å‘ windowï¼‰

```js
var a = 1;
function foo() {
  console.log(this.a);
}
// 1

var a = 1;
function foo() {
  console.log(this);
}

function bar() {
  //barçš„è¯æ³•ä½œç”¨åŸŸæ˜¯window
  var a = 2;
  foo();
} //fooæ˜¯åœ¨barçš„ä½œç”¨ä¸­è°ƒç”¨ï¼Œä½†æ˜¯å¿…é¡»è¦çŸ¥é“barçš„è¯æ³•ä½œç”¨åŸŸä¸­è°ƒç”¨ã€‚
bar();
```

### éšå¼ç»‘å®šè§„åˆ™

å½“ä¸€ä¸ªå‡½æ•°è¢«å¯¹è±¡æ‹¥æœ‰ï¼Œä¸”è°ƒç”¨æ—¶ï¼Œå‡½æ•°çš„ this æŒ‡å‘å¯¹è±¡

```js
function foo() {
  console.log(this.a);
}

var obj = {
  a: 1,
  foo: foo,
};

obj.foo();
// 1
```

### éšå¼ä¸¢å¤±

å½“å‡½æ•°è¢«å¤šä¸ªå¯¹è±¡é“¾è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘å¼•ç”¨å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡

```js
var obj = {
  a: 1,
  foo: foo,
};

var obj2 = {
  a: 2,
  obj: obj,
};

function foo() {
  console.log(this.a);
}

obj2.obj.foo();
// 1ï¼ŒæŒ‡å‘è°ƒç”¨çš„ï¼Œå³objçš„ï¼ˆå°±è¿‘åŸåˆ™ï¼‰
```

### æ˜¾å¼ç»‘å®š

callï¼Œapplyï¼Œbind

### new ç»‘å®š

this æŒ‡å‘å®ä¾‹å¯¹è±¡

### ç®­å¤´å‡½æ•°

ç®­å¤´å‡½æ•°æ²¡æœ‰ this å…³é”®å­—

## ä½œç”¨åŸŸ

ä½œç”¨åŸŸæŒ‡çš„æ˜¯å˜é‡èƒ½å¤Ÿè¢«è®¿é—®åˆ°çš„èŒƒå›´

JavaScript ä¸­ä½œç”¨åŸŸåˆ†ä¸ºå±€éƒ¨ä½œç”¨åŸŸã€å…¨å±€ä½œç”¨åŸŸä»¥åŠ es6 æ–°å¢çš„å—çº§ä½œç”¨åŸŸ

### å±€éƒ¨ä½œç”¨åŸŸ

åœ¨ JavaScript å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡å«åšå±€éƒ¨å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™åªèƒ½åœ¨å‡½æ•°å†…éƒ¨æ‰èƒ½è®¿é—®åˆ°å®ƒï¼Œæ‰€ä»¥å®ƒçš„ä½œç”¨åŸŸä¹Ÿæ˜¯å‡½æ•°çš„å†…éƒ¨ï¼Œç§°ä¸ºå±€éƒ¨ä½œç”¨åŸŸ

```js
function getName() {
  var name = "ä¸€ä¸ªå¥•";
  console.log(name); //ä¸€ä¸ªå¥•
}
console.log(name); //undefined
```

### å…¨å±€ä½œç”¨åŸŸ

åœ¨ JavaScript ä¸­ï¼Œåœ¨å‡½æ•°å¤–é¢å®šä¹‰çš„å˜é‡å°±ç§°ä½œå…¨å±€å˜é‡ï¼Œå…¨å±€å˜é‡æ˜¯æŒ‚è½½åœ¨ window å¯¹è±¡ä¸‹çš„å˜é‡ï¼Œæ‰€ä»¥åœ¨ç½‘é¡µä¸­çš„ä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªå…¨å±€å˜é‡ã€‚

```js
var globalName = "å…¨å±€çš„ä¸€ä¸ªå¥•";
function getName() {
  console.log(globalName); //å…¨å±€çš„ä¸€ä¸ªå¥•
  var name = "å±€éƒ¨çš„ä¸€ä¸ªå¥•";
  console.log(name); //å±€éƒ¨çš„ä¸€ä¸ªå¥•
}
getName();
console.log(name); //undefined
console.log(globalName); //å…¨å±€çš„ä¸€ä¸ªå¥•

function setName() {
  vName = "æ²¡æœ‰å®šä¹‰è€Œè¢«ç›´æ¥èµ‹å€¼";
}
setName();
console.log(vName); //æ²¡æœ‰å®šä¹‰è€Œè¢«ç›´æ¥èµ‹å€¼
console.log(window.vName); //æ²¡æœ‰å®šä¹‰è€Œè¢«ç›´æ¥èµ‹å€¼
```

### å—çº§ä½œç”¨åŸŸ

ES6 ä¸­æ–°å¢äº†å—çº§ä½œç”¨åŸŸï¼Œä½¿ç”¨ let å®šä¹‰çš„å˜é‡åªèƒ½åœ¨å—çº§ä½œç”¨åŸŸä¸­è¢«è®¿é—®ï¼Œæœ‰æš‚æ—¶æ€§æ­»åŒºçš„ç‰¹ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å˜é‡åœ¨å®šä¹‰ä¹‹å‰éƒ½ä¸èƒ½è¢«ä½¿ç”¨

if è¯­å¥ä»¥åŠ for è¯­å¥ä¸­çš„`{...} `è¿™å°±æ˜¯å—çº§ä½œç”¨åŸŸã€‚

```js
console.log(abc); //abc is not defined
if (true) {
  let abc = "å˜¿å˜¿~";
  console.log(abc); //å˜¿å˜¿~
}
console.log(abc); //abc is not defined
```

## å˜é‡æå‡

åŸç†ï¼šJS å¼•æ“çš„å·¥ä½œæ–¹å¼æ˜¯å…ˆè§£æä»£ç ï¼Œè·å–æ‰€æœ‰è¢«å£°æ˜çš„å˜é‡ï¼Œç„¶åå†è¿è¡Œã€‚JS ä»£ç è‡ªä¸Šè€Œä¸‹æ‰§è¡Œä¹‹å‰ï¼Œæµè§ˆå™¨é¦–å…ˆä¼šæŠŠæ‰€æœ‰å¸¦ `â€œVARâ€/â€œFUNCTIONâ€` å…³é”®è¯çš„è¿›è¡Œæå‰ â€œå£°æ˜â€ æˆ–è€… â€œå®šä¹‰â€ ï¼Œè¿™ç§é¢„å…ˆå¤„ç†æœºåˆ¶ç§°ä¹‹ä¸º â€œå˜é‡æå‡â€ã€‚

```js
console.log(a, b); //undefined undefined
var a = 12,
  b = 12;

function fn() {
  console.log(a, b); //=>undefined 12
  var a = (b = 13);
  console.log(a, b); //=>13 13
}

fn();
console.log(a, b); //=>12 13
```

ç§æœ‰ä½œç”¨åŸŸä¸­å¸¦ var å’Œä¸å¸¦ var çš„åŒºåˆ«ï¼š

1ã€å¸¦ var çš„åœ¨ç§æœ‰ä½œç”¨åŸŸå˜é‡æå‡é˜¶æ®µï¼Œéƒ½å£°æ˜ä¸ºç§æœ‰å˜é‡ï¼Œè·Ÿå¤–ç•Œæ²¡æœ‰å…³ç³»

2ã€ä¸å¸¦ var ä¸æ˜¯ç§æœ‰å˜é‡ï¼Œä¼šå‘å®ƒçš„ä¸Šçº§ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ° window ä¸ºæ­¢

### å¯¹ç­‰å·å·¦è¾¹è¿›è¡Œå˜é‡æå‡

å…ˆæŠŠ fn æå‡è‡³é¡¶éƒ¨ï¼Œè¿è¡Œåˆ°é‚£é‡Œæ—¶æ‰è¿›è¡Œèµ‹å€¼

```js
sum();
fn(); // Uncaught TypeError: fn is not a function

//=>åŒ¿åå‡½æ•°ä¹‹å‡½æ•°è¡¨è¾¾å¼
var fn = function () {
  console.log("fn");
}; //=>ä»£ç æ‰§è¡Œåˆ°æ­¤å¤„ä¼šæŠŠå‡½æ•°å€¼èµ‹å€¼ç»™fn

//=>æ™®é€šçš„å‡½æ•°
function sum() {
  console.log("sum");
}
```

### æ¡ä»¶åˆ¤æ–­ä¸‹çš„å˜é‡æå‡

```js
/*
 * åœ¨å½“å‰ä½œç”¨åŸŸä¸‹ï¼Œä¸ç®¡æ¡ä»¶æ˜¯å¦æˆç«‹éƒ½è¦è¿›è¡Œå˜é‡æå‡
 *   =>å¸¦VARçš„è¿˜æ˜¯åªå£°æ˜
 *   =>å¸¦FUNCTIONçš„åœ¨è€ç‰ˆæœ¬æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶ä¸‹ï¼Œå£°æ˜å’Œå®šä¹‰éƒ½å¤„ç†ï¼Œä½†æ˜¯ä¸ºäº†è¿åˆES6ä¸­çš„å—çº§ä½œç”¨
 *     åŸŸï¼Œæ–°ç‰ˆæµè§ˆå™¨å¯¹äºå‡½æ•°ï¼ˆåœ¨æ¡ä»¶åˆ¤æ–­ä¸­çš„å‡½æ•°ï¼‰ï¼Œ
 *     ä¸ç®¡æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œéƒ½åªæ˜¯å…ˆå£°æ˜ï¼Œæ²¡æœ‰å®šä¹‰ï¼Œç±»ä¼¼äºvar
 */
console.log(a); //undefined
if (1 === 2) {
  var a = 3;
}
console.log(a); //undefined
```

### é‡åé—®é¢˜çš„å¤„ç†

```js
fn(); //=>4
function fn() {
  console.log(1);
}
fn(); //=>4
function fn() {
  console.log(2);
}
fn(); //=>4
var fn = 100; //=>å¸¦VARçš„åœ¨æå‡é˜¶æ®µåªæŠŠå£°æ˜å¤„ç†äº†,èµ‹å€¼æ“ä½œæ²¡æœ‰å¤„ç†,æ‰€ä»¥åœ¨ä»£ç æ‰§è¡Œçš„æ—¶å€™éœ€è¦å®Œæˆèµ‹å€¼ FN=100
fn(); //=>100() Uncaught TypeError: fn is not a function
function fn() {
  console.log(3);
}
fn();
function fn() {
  console.log(4);
}
fn();
```

å¦‚æœåå­—é‡å¤äº†ï¼Œä¸ä¼šé‡æ–°çš„å£°æ˜ï¼Œä½†æ˜¯ä¼šé‡æ–°çš„å®šä¹‰ï¼ˆé‡æ–°èµ‹å€¼ï¼‰

## å‚è€ƒ

[https://juejin.cn/post/6844904079353708557](https://juejin.cn/post/6844904079353708557)

[https://juejin.cn/post/6948626943717670948?from=search-suggest](https://juejin.cn/post/6948626943717670948?from=search-suggest)

[https://tsejx.github.io/javascript-guidebook/basic-concept/data-types/type-conversion#%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2](https://tsejx.github.io/javascript-guidebook/basic-concept/data-types/type-conversion#%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2)

[https://juejin.cn/post/7301968484766695458](https://juejin.cn/post/7301968484766695458)

[https://juejin.cn/post/6844903976765227016#heading-0](https://juejin.cn/post/6844903976765227016#heading-0)

[https://juejin.cn/post/6844904093496918023?searchId=20240827091122CE649AF3B6A072C2F1AF](https://juejin.cn/post/6844904093496918023?searchId=20240827091122CE649AF3B6A072C2F1AF)
