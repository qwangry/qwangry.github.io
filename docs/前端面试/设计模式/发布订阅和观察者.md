# 发布订阅和观察者

## 观察者模式（Observer Pattern）

观察者模式是一种行为型模式，允许对象（观察者）订阅另一个对象（被观察者）的状态变化，当被观察者的状态发生变化时，会通知所有订阅了它的观察者

核心概念：观察者和被观察者之间是一对多的关系，观察者直接依赖于被观察者，并在被观察者发生变化时自动更新

通信方向：单向通信，被观察者主动通知观察者，观察者被动接收

特点：

- 观察者与被观察者是紧耦合的，被观察者会直接持有观察者的引用。

- 观察者需要主动注册到被观察者上，才能接受通知。

- 通知机制是推送模式，被观察者直接将消息推送给观察者。

应用场景：

- 事件监听机制：浏览器的事件机制就是观察者模式的典型应用

- 状态管理：Vue和React的状态管理库（Vuex和Redux）常用观察者模式来实现数据的响应式更新

## 发布订阅模式（Publish/Subscribe Pattern）

发布订阅模式通过引入一个中间代理（事件通道或消息代理），发布者发布消息到这个中间代理，订阅者订阅他们感兴趣的消息

核心概念：发布者和订阅者并不直接交互，他们通过消息代理进行解耦，发布者发布消息时，订阅者会收到事件通知

通信方向：可以是双向通信，多个发布者和多个订阅者可以互相独立工作

特点：

- 发布者与订阅者是松耦合的，彼此之间并没有直接依赖。

- 发布者和订阅者不需要互相感知彼此的存在，它们通过中间的消息代理来进行信息交换。

- 订阅者在中间代理处订阅某类事件，代理会通知所有订阅者相应的事件。


