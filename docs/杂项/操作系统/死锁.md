# 死锁

## 进程和线程

线程是调度的基本单位，而进程则是资源拥有的基本单位。

## 死锁的概念

死锁问题的产生是由两个或者以上线程并行执行的时候，争夺资源而造成的

死锁只有同时满足四个条件才会发生：

1、互斥条件

> 多个线程不能同时使用同一个资源

2、持有并等待条件

> 线程 A 持有资源 1，又想申请资源 2，但 2 已被线程 C 持有，A 就会处于等待状态，但 A 在等待 2 的同时不会释放自己已经持有的资源 1

3、不可剥夺条件

> 当线程已经持有了资源，在自己使用完之前不能被其他线程获取

4、环路等待条件

> 在死锁发生的时候，两个线程获取资源的顺序构成了环形链

## 避免死锁发生

破坏其中一个条件

最常见并且可行的就是使用资源有序分配法，来破坏环路等待条件

### 资源有序分配

## 参考

[https://xiaolincoding.com/os/4_process/deadlock.html#%E6%AD%BB%E9%94%81%E7%9A%84%E6%A6%82%E5%BF%B5](https://xiaolincoding.com/os/4_process/deadlock.html#%E6%AD%BB%E9%94%81%E7%9A%84%E6%A6%82%E5%BF%B5)
